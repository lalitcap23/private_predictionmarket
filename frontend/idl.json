{
  "address": "5jRd4dAToWZAMPrhJS2HaCUDtaY5AYCSbtY3KRW1soDL",
  "metadata": {
    "name": "prediction_market",
    "version": "0.1.0",
    "spec": "0.1.0",
    "description": "Simple Binary Prediction Market - Educational purposes only, UNAUDITED"
  },
  "instructions": [
    {
      "name": "cancel_market",
      "docs": [
        "Cancel a market (admin only)"
      ],
      "discriminator": [
        205,
        121,
        84,
        210,
        222,
        71,
        150,
        11
      ],
      "accounts": [
        {
          "name": "admin",
          "signer": true
        },
        {
          "name": "config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        }
      ],
      "args": [
        {
          "name": "market_id",
          "type": "u64"
        }
      ]
    },
    {
      "name": "claim_winnings",
      "docs": [
        "Claim winnings from a resolved or cancelled market"
      ],
      "discriminator": [
        161,
        215,
        24,
        59,
        14,
        236,
        242,
        221
      ],
      "accounts": [
        {
          "name": "user",
          "writable": true,
          "signer": true
        },
        {
          "name": "market",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "market_vault",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  118,
                  97,
                  117,
                  108,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "user_position",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  112,
                  111,
                  115,
                  105,
                  116,
                  105,
                  111,
                  110
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              },
              {
                "kind": "account",
                "path": "user"
              }
            ]
          }
        },
        {
          "name": "user_token_account",
          "docs": [
            "User's token account"
          ],
          "writable": true
        },
        {
          "name": "token_program",
          "address": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
        }
      ],
      "args": [
        {
          "name": "market_id",
          "type": "u64"
        }
      ]
    },
    {
      "name": "create_market",
      "docs": [
        "Create a new prediction market",
        "",
        "All markets use Pyth oracle for SOL/USD price resolution",
        "- price_threshold: Price threshold in Pyth's native format (accounting for exponent)",
        "Example: For $160 threshold with exponent -8, use 160 * 10^8 = 16000000000"
      ],
      "discriminator": [
        103,
        226,
        97,
        235,
        200,
        188,
        251,
        254
      ],
      "accounts": [
        {
          "name": "creator",
          "writable": true,
          "signer": true
        },
        {
          "name": "config",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true
        },
        {
          "name": "market_vault",
          "docs": [
            "Market vault for holding tokens"
          ],
          "writable": true
        },
        {
          "name": "token_mint",
          "docs": [
            "Token mint"
          ]
        },
        {
          "name": "creator_token_account",
          "docs": [
            "Creator's token account (for fee payment)"
          ],
          "writable": true,
          "signer": true
        },
        {
          "name": "fee_recipient_token_account",
          "docs": [
            "Fee recipient's token account"
          ],
          "writable": true
        },
        {
          "name": "token_program",
          "address": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        },
        {
          "name": "rent",
          "address": "SysvarRent111111111111111111111111111111111"
        },
        {
          "name": "associated_token_program",
          "address": "ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"
        }
      ],
      "args": [
        {
          "name": "question",
          "type": "string"
        },
        {
          "name": "resolution_time",
          "type": "i64"
        },
        {
          "name": "fee_amount",
          "type": "u64"
        },
        {
          "name": "price_threshold",
          "type": "i64"
        }
      ]
    },
    {
      "name": "forfeit_unrevealed",
      "docs": [
        "Forfeit unrevealed stakes to protocol after reveal deadline (admin only)",
        "Transfers unrevealed committed stakes to protocol fee recipient"
      ],
      "discriminator": [
        106,
        138,
        130,
        170,
        105,
        11,
        59,
        183
      ],
      "accounts": [
        {
          "name": "admin",
          "signer": true
        },
        {
          "name": "config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "market_vault",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  118,
                  97,
                  117,
                  108,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "user_position",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  112,
                  111,
                  115,
                  105,
                  116,
                  105,
                  111,
                  110
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              },
              {
                "kind": "account",
                "path": "user_to_forfeit"
              }
            ]
          }
        },
        {
          "name": "user_to_forfeit",
          "docs": [
            "User whose unrevealed stake is being forfeited"
          ]
        },
        {
          "name": "fee_recipient_token_account",
          "docs": [
            "Protocol fee recipient token account (receives forfeited stakes)"
          ],
          "writable": true
        },
        {
          "name": "token_program",
          "address": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
        }
      ],
      "args": [
        {
          "name": "market_id",
          "type": "u64"
        }
      ]
    },
    {
      "name": "initialize",
      "docs": [
        "Initialize the prediction market program"
      ],
      "discriminator": [
        175,
        175,
        109,
        31,
        13,
        152,
        155,
        237
      ],
      "accounts": [
        {
          "name": "admin",
          "writable": true,
          "signer": true
        },
        {
          "name": "config",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "token_mint",
          "docs": [
            "The SPL token mint for betting"
          ]
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "fee_recipient",
          "type": "pubkey"
        },
        {
          "name": "max_fee_bps",
          "type": "u16"
        }
      ]
    },
    {
      "name": "pause",
      "docs": [
        "Pause the contract (admin only)"
      ],
      "discriminator": [
        211,
        22,
        221,
        251,
        74,
        121,
        193,
        47
      ],
      "accounts": [
        {
          "name": "admin",
          "signer": true
        },
        {
          "name": "config",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        }
      ],
      "args": []
    },
    {
      "name": "place_bet",
      "docs": [
        "Place a bet on a market"
      ],
      "discriminator": [
        222,
        62,
        67,
        220,
        63,
        166,
        126,
        33
      ],
      "accounts": [
        {
          "name": "bettor",
          "writable": true,
          "signer": true
        },
        {
          "name": "config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "market_vault",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  118,
                  97,
                  117,
                  108,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "user_position",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  112,
                  111,
                  115,
                  105,
                  116,
                  105,
                  111,
                  110
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              },
              {
                "kind": "account",
                "path": "bettor"
              }
            ]
          }
        },
        {
          "name": "bettor_token_account",
          "docs": [
            "Bettor's token account"
          ],
          "writable": true
        },
        {
          "name": "token_program",
          "address": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "market_id",
          "type": "u64"
        },
        {
          "name": "outcome",
          "type": {
            "defined": {
              "name": "Outcome"
            }
          }
        },
        {
          "name": "amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "resolve_market",
      "docs": [
        "Resolve a market (admin only)"
      ],
      "discriminator": [
        155,
        23,
        80,
        173,
        46,
        74,
        23,
        239
      ],
      "accounts": [
        {
          "name": "admin",
          "signer": true
        },
        {
          "name": "config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "price_update",
          "docs": [
            "Pyth price update account for SOL/USD feed"
          ]
        }
      ],
      "args": [
        {
          "name": "market_id",
          "type": "u64"
        },
        {
          "name": "winning_outcome",
          "type": {
            "defined": {
              "name": "Outcome"
            }
          }
        }
      ]
    },
    {
      "name": "reveal_and_claim",
      "docs": [
        "Reveal the committed outcome and claim fixed-odds winnings (5x payout)"
      ],
      "discriminator": [
        252,
        157,
        47,
        161,
        84,
        59,
        153,
        60
      ],
      "accounts": [
        {
          "name": "user",
          "writable": true,
          "signer": true
        },
        {
          "name": "market",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "market_vault",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  118,
                  97,
                  117,
                  108,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "user_position",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  112,
                  111,
                  115,
                  105,
                  116,
                  105,
                  111,
                  110
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              },
              {
                "kind": "account",
                "path": "user"
              }
            ]
          }
        },
        {
          "name": "user_token_account",
          "docs": [
            "User's token account to receive payout"
          ],
          "writable": true
        },
        {
          "name": "token_program",
          "address": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
        }
      ],
      "args": [
        {
          "name": "market_id",
          "type": "u64"
        },
        {
          "name": "outcome",
          "type": {
            "defined": {
              "name": "Outcome"
            }
          }
        },
        {
          "name": "salt",
          "type": {
            "array": [
              "u8",
              32
            ]
          }
        }
      ]
    },
    {
      "name": "stake_and_commit",
      "docs": [
        "Stake tokens and commit to a blind prediction (commit-reveal scheme)"
      ],
      "discriminator": [
        238,
        71,
        59,
        244,
        241,
        200,
        137,
        79
      ],
      "accounts": [
        {
          "name": "bettor",
          "writable": true,
          "signer": true
        },
        {
          "name": "config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "market_vault",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  118,
                  97,
                  117,
                  108,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "user_position",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  112,
                  111,
                  115,
                  105,
                  116,
                  105,
                  111,
                  110
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              },
              {
                "kind": "account",
                "path": "bettor"
              }
            ]
          }
        },
        {
          "name": "bettor_token_account",
          "docs": [
            "Bettor's token account (neutral ticket asset)"
          ],
          "writable": true
        },
        {
          "name": "token_program",
          "address": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "market_id",
          "type": "u64"
        },
        {
          "name": "amount",
          "type": "u64"
        },
        {
          "name": "commitment",
          "type": {
            "array": [
              "u8",
              32
            ]
          }
        }
      ]
    },
    {
      "name": "unpause",
      "docs": [
        "Unpause the contract (admin only)"
      ],
      "discriminator": [
        169,
        144,
        4,
        38,
        10,
        141,
        188,
        255
      ],
      "accounts": [
        {
          "name": "admin",
          "signer": true
        },
        {
          "name": "config",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        }
      ],
      "args": []
    },
    {
      "name": "update_config",
      "docs": [
        "Update the global configuration (admin only)"
      ],
      "discriminator": [
        29,
        158,
        252,
        191,
        10,
        83,
        219,
        99
      ],
      "accounts": [
        {
          "name": "admin",
          "signer": true
        },
        {
          "name": "config",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        }
      ],
      "args": [
        {
          "name": "fee_recipient",
          "type": "pubkey"
        },
        {
          "name": "max_fee_bps",
          "type": "u16"
        }
      ]
    }
  ],
  "accounts": [
    {
      "name": "Config",
      "discriminator": [
        155,
        12,
        170,
        224,
        30,
        250,
        204,
        130
      ]
    },
    {
      "name": "Market",
      "discriminator": [
        219,
        190,
        213,
        55,
        0,
        227,
        198,
        154
      ]
    },
    {
      "name": "PriceUpdateV2",
      "discriminator": [
        34,
        241,
        35,
        99,
        157,
        126,
        244,
        205
      ]
    },
    {
      "name": "UserPosition",
      "discriminator": [
        251,
        248,
        209,
        245,
        83,
        234,
        17,
        27
      ]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "Paused",
      "msg": "Contract is paused"
    },
    {
      "code": 6001,
      "name": "NotPaused",
      "msg": "Contract is not paused"
    },
    {
      "code": 6002,
      "name": "InvalidAdmin",
      "msg": "Invalid admin"
    },
    {
      "code": 6003,
      "name": "InvalidFee",
      "msg": "Invalid fee percentage"
    },
    {
      "code": 6004,
      "name": "InvalidResolutionTime",
      "msg": "Invalid resolution time"
    },
    {
      "code": 6005,
      "name": "EmptyQuestion",
      "msg": "Empty question"
    },
    {
      "code": 6006,
      "name": "QuestionTooLong",
      "msg": "Question too long"
    },
    {
      "code": 6007,
      "name": "MarketNotFound",
      "msg": "Market not found"
    },
    {
      "code": 6008,
      "name": "MarketNotActive",
      "msg": "Market not active"
    },
    {
      "code": 6009,
      "name": "MarketAlreadyFinalized",
      "msg": "Market already finalized"
    },
    {
      "code": 6010,
      "name": "MarketNotFinalized",
      "msg": "Market not finalized"
    },
    {
      "code": 6011,
      "name": "MarketExpired",
      "msg": "Market expired"
    },
    {
      "code": 6012,
      "name": "MarketNotExpired",
      "msg": "Market not expired"
    },
    {
      "code": 6013,
      "name": "InvalidOutcome",
      "msg": "Invalid outcome"
    },
    {
      "code": 6014,
      "name": "NoOpposition",
      "msg": "No opposition in market"
    },
    {
      "code": 6015,
      "name": "ZeroAmount",
      "msg": "Zero amount"
    },
    {
      "code": 6016,
      "name": "NoPosition",
      "msg": "No position"
    },
    {
      "code": 6017,
      "name": "AlreadyClaimed",
      "msg": "Already claimed"
    },
    {
      "code": 6018,
      "name": "Overflow",
      "msg": "Overflow error"
    },
    {
      "code": 6019,
      "name": "AlreadyCommitted",
      "msg": "User has already committed in this market"
    },
    {
      "code": 6020,
      "name": "NotCommitted",
      "msg": "User has not committed in this market"
    },
    {
      "code": 6021,
      "name": "AlreadyRevealed",
      "msg": "User has already revealed in this market"
    },
    {
      "code": 6022,
      "name": "InvalidCommitment",
      "msg": "Invalid commitment reveal data"
    },
    {
      "code": 6023,
      "name": "RevealDeadlineExpired",
      "msg": "Reveal deadline has passed"
    },
    {
      "code": 6024,
      "name": "RevealDeadlineNotPassed",
      "msg": "Reveal deadline has not passed yet"
    },
    {
      "code": 6025,
      "name": "NoUnrevealedStakes",
      "msg": "No unrevealed stakes to forfeit"
    },
    {
      "code": 6026,
      "name": "PythPriceUpdateRequired",
      "msg": "Pyth price update account required for oracle-based markets"
    },
    {
      "code": 6027,
      "name": "PythPriceTooOld",
      "msg": "Pyth price update is too old"
    },
    {
      "code": 6028,
      "name": "PythFeedIdMismatch",
      "msg": "Pyth price feed ID mismatch"
    }
  ],
  "types": [
    {
      "name": "Config",
      "docs": [
        "Global configuration account for the prediction market"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "admin",
            "docs": [
              "Admin authority"
            ],
            "type": "pubkey"
          },
          {
            "name": "fee_recipient",
            "docs": [
              "Fee recipient"
            ],
            "type": "pubkey"
          },
          {
            "name": "token_mint",
            "docs": [
              "SPL token mint for betting"
            ],
            "type": "pubkey"
          },
          {
            "name": "token_decimals",
            "docs": [
              "Token decimals"
            ],
            "type": "u8"
          },
          {
            "name": "max_fee_bps",
            "docs": [
              "Max fee percentage in basis points (100 = 1%)"
            ],
            "type": "u16"
          },
          {
            "name": "market_counter",
            "docs": [
              "Total markets created"
            ],
            "type": "u64"
          },
          {
            "name": "paused",
            "docs": [
              "Paused flag"
            ],
            "type": "bool"
          },
          {
            "name": "bump",
            "docs": [
              "Bump seed for PDA"
            ],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "Market",
      "docs": [
        "Market account storing all market data"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "id",
            "docs": [
              "Unique market ID"
            ],
            "type": "u64"
          },
          {
            "name": "question",
            "docs": [
              "Market question (max 200 chars)"
            ],
            "type": "string"
          },
          {
            "name": "resolution_time",
            "docs": [
              "Resolution time (unix timestamp)"
            ],
            "type": "i64"
          },
          {
            "name": "state",
            "docs": [
              "Current market state"
            ],
            "type": {
              "defined": {
                "name": "MarketState"
              }
            }
          },
          {
            "name": "winning_outcome",
            "docs": [
              "Winning outcome (if resolved)"
            ],
            "type": {
              "defined": {
                "name": "Outcome"
              }
            }
          },
          {
            "name": "yes_pool",
            "docs": [
              "Total YES pool amount"
            ],
            "type": "u64"
          },
          {
            "name": "no_pool",
            "docs": [
              "Total NO pool amount"
            ],
            "type": "u64"
          },
          {
            "name": "creation_fee",
            "docs": [
              "Creation fee paid"
            ],
            "type": "u64"
          },
          {
            "name": "creator",
            "docs": [
              "Market creator"
            ],
            "type": "pubkey"
          },
          {
            "name": "created_at",
            "docs": [
              "Created at timestamp"
            ],
            "type": "i64"
          },
          {
            "name": "config_fee_recipient",
            "docs": [
              "Config snapshot - fee recipient"
            ],
            "type": "pubkey"
          },
          {
            "name": "config_max_fee_bps",
            "docs": [
              "Config snapshot - max fee bps"
            ],
            "type": "u16"
          },
          {
            "name": "bump",
            "docs": [
              "Bump seed for PDA"
            ],
            "type": "u8"
          },
          {
            "name": "vault_bump",
            "docs": [
              "Vault bump seed"
            ],
            "type": "u8"
          },
          {
            "name": "pyth_price_feed_id",
            "docs": [
              "Pyth price feed ID (32 bytes) - None if manual resolution"
            ],
            "type": {
              "option": {
                "array": [
                  "u8",
                  32
                ]
              }
            }
          },
          {
            "name": "price_threshold",
            "docs": [
              "Price threshold for YES outcome (in Pyth's native format with exponent)",
              "If price >= threshold, YES wins; else NO wins",
              "None if manual resolution"
            ],
            "type": {
              "option": "i64"
            }
          },
          {
            "name": "reveal_deadline",
            "docs": [
              "Reveal deadline (unix timestamp) - deadline for users to reveal after market resolution",
              "Set to resolution_time + 2 weeks when market is resolved",
              "0 if market not yet resolved"
            ],
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "MarketState",
      "docs": [
        "Market state enum"
      ],
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Active"
          },
          {
            "name": "Resolved"
          },
          {
            "name": "Cancelled"
          }
        ]
      }
    },
    {
      "name": "Outcome",
      "docs": [
        "Outcome enum"
      ],
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "None"
          },
          {
            "name": "Yes"
          },
          {
            "name": "No"
          }
        ]
      }
    },
    {
      "name": "PriceFeedMessage",
      "repr": {
        "kind": "c"
      },
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "feed_id",
            "docs": [
              "`FeedId` but avoid the type alias because of compatibility issues with Anchor's `idl-build` feature."
            ],
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "price",
            "type": "i64"
          },
          {
            "name": "conf",
            "type": "u64"
          },
          {
            "name": "exponent",
            "type": "i32"
          },
          {
            "name": "publish_time",
            "docs": [
              "The timestamp of this price update in seconds"
            ],
            "type": "i64"
          },
          {
            "name": "prev_publish_time",
            "docs": [
              "The timestamp of the previous price update. This field is intended to allow users to",
              "identify the single unique price update for any moment in time:",
              "for any time t, the unique update is the one such that prev_publish_time < t <= publish_time.",
              "",
              "Note that there may not be such an update while we are migrating to the new message-sending logic,",
              "as some price updates on pythnet may not be sent to other chains (because the message-sending",
              "logic may not have triggered). We can solve this problem by making the message-sending mandatory",
              "(which we can do once publishers have migrated over).",
              "",
              "Additionally, this field may be equal to publish_time if the message is sent on a slot where",
              "where the aggregation was unsuccesful. This problem will go away once all publishers have",
              "migrated over to a recent version of pyth-agent."
            ],
            "type": "i64"
          },
          {
            "name": "ema_price",
            "type": "i64"
          },
          {
            "name": "ema_conf",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "PriceUpdateV2",
      "docs": [
        "A price update account. This account is used by the Pyth Receiver program to store a verified price update from a Pyth price feed.",
        "It contains:",
        "- `write_authority`: The write authority for this account. This authority can close this account to reclaim rent or update the account to contain a different price update.",
        "- `verification_level`: The [`VerificationLevel`] of this price update. This represents how many Wormhole guardian signatures have been verified for this price update.",
        "- `price_message`: The actual price update.",
        "- `posted_slot`: The slot at which this price update was posted."
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "write_authority",
            "type": "pubkey"
          },
          {
            "name": "verification_level",
            "type": {
              "defined": {
                "name": "VerificationLevel"
              }
            }
          },
          {
            "name": "price_message",
            "type": {
              "defined": {
                "name": "PriceFeedMessage"
              }
            }
          },
          {
            "name": "posted_slot",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "UserPosition",
      "docs": [
        "User position in a market"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "docs": [
              "Market ID"
            ],
            "type": "u64"
          },
          {
            "name": "user",
            "docs": [
              "User pubkey"
            ],
            "type": "pubkey"
          },
          {
            "name": "yes_bet",
            "docs": [
              "Amount bet on YES (legacy, unused in commit-reveal flow)"
            ],
            "type": "u64"
          },
          {
            "name": "no_bet",
            "docs": [
              "Amount bet on NO (legacy, unused in commit-reveal flow)"
            ],
            "type": "u64"
          },
          {
            "name": "claimed",
            "docs": [
              "Has user claimed their payout"
            ],
            "type": "bool"
          },
          {
            "name": "bump",
            "docs": [
              "Bump seed for PDA"
            ],
            "type": "u8"
          },
          {
            "name": "commitment",
            "docs": [
              "Commit-reveal: keccak256(market_id, user, outcome, amount, salt)"
            ],
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "committed_amount",
            "docs": [
              "Total amount committed in tickets for this market"
            ],
            "type": "u64"
          },
          {
            "name": "revealed",
            "docs": [
              "Whether the user has already revealed their choice"
            ],
            "type": "bool"
          },
          {
            "name": "revealed_outcome",
            "docs": [
              "Revealed outcome for this commitment"
            ],
            "type": {
              "defined": {
                "name": "Outcome"
              }
            }
          }
        ]
      }
    },
    {
      "name": "VerificationLevel",
      "docs": [
        "Pyth price updates are bridged to all blockchains via Wormhole.",
        "Using the price updates on another chain requires verifying the signatures of the Wormhole guardians.",
        "The usual process is to check the signatures for two thirds of the total number of guardians, but this can be cumbersome on Solana because of the transaction size limits,",
        "so we also allow for partial verification.",
        "",
        "This enum represents how much a price update has been verified:",
        "- If `Full`, we have verified the signatures for two thirds of the current guardians.",
        "- If `Partial`, only `num_signatures` guardian signatures have been checked.",
        "",
        "# Warning",
        "Using partially verified price updates is dangerous, as it lowers the threshold of guardians that need to collude to produce a malicious price update."
      ],
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Partial",
            "fields": [
              {
                "name": "num_signatures",
                "type": "u8"
              }
            ]
          },
          {
            "name": "Full"
          }
        ]
      }
    }
  ]
}